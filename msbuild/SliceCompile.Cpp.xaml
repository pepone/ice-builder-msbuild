<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright (c) 2009-2018 ZeroC, Inc. All rights reserved. -->
<Rule
    Name="SliceCompile"
    DisplayName="Ice Builder"
    PageTemplate="generic"
    Description="Ice Builder project settings"
    xmlns="http://schemas.microsoft.com/build/2009/properties">

    <Rule.DataSource>
        <DataSource Persistence="ProjectFile" ItemType="SliceCompile" Label="IceBuilder" HasConfigurationCondition="false"/>
    </Rule.DataSource>

    <StringProperty
        Name="OutputDir"
        DisplayName="Output Directory"
        Description="Directory of C++ source files generated by slice2cpp."
        Subtype="folder"
        Category="General"
        Switch="--output-dir">
    </StringProperty>

    <StringProperty
        Name="HeaderOutputDir"
        DisplayName="Header Output Directory"
        Description="Directory of C++ header files generated by slice2cpp; if left unset, use Output Directory."
        Subtype="folder"
        Category="General">
    </StringProperty>

    <!-- Parsing Options -->
    <StringListProperty
        Name="IncludeDirectories"
        DisplayName="Include Directories"
        Description="Specifies one or more directories to add to the Slice include path; use semi-colons (;) as directory separators."
        Switch="-I"
        Subtype="folder"
        Category="General">
    </StringListProperty>

    <!-- Output Options -->
    <StringProperty
        Name="BaseDirectoryForGeneratedInclude"
        DisplayName="Base Directory For Generated #include"
        Category="General"
        Switch="--include-dir"
        Description="Base directory for #include directives in C++ files generated by slice2cpp.">
    </StringProperty>

    <EnumProperty
        Name="HeaderExt"
        DisplayName="Generated Header Extension"
        Description="File extension for C++ header files generated by slice2cpp."
        Category="General"
        Switch="--header-ext">
        <EnumValue Name="h" DisplayName=".h" Description=".h"/>
        <EnumValue Name="hpp" DisplayName=".hpp" Description=".hpp"/>
        <EnumValue Name="hh" DisplayName=".hh" Description=".hh"/>
        <EnumValue Name="hxx" DisplayName=".hxx" Description=".hxx"/>
    </EnumProperty>

    <EnumProperty
        Name="SourceExt"
        DisplayName="Generated Source Extension"
        Description="File extension for C++ source files generated by slice2cpp."
        Category="General"
        Switch="--source-ext">
        <EnumValue Name="cpp" DisplayName=".cpp" Description=".cpp"/>
        <EnumValue Name="cc" DisplayName=".cc" Description=".cc"/>
        <EnumValue Name="cxx" DisplayName=".cxx" Description=".cxx"/>
    </EnumProperty>

    <StringListProperty
        DisplayName="Additional Options"
        Name="AdditionalOptions"
        Description="Additional command-line options to pass to slice2cpp.">
    </StringListProperty>

    <BoolProperty
        DisplayName="Enable C++11 mapping"
        Name="IceCpp11Mapping"
        Description="When yes, define ICE_CPP11_MAPPING when compiling C++ code (applies only to Ice 3.7 and Visual Stutio 2015 or later)."
        Category="C++ Preprocessor">
        <BoolProperty.DataSource>
            <DataSource Persistence="ProjectFile" ItemType="" Label="IceBuilder" HasConfigurationCondition="false"/>
        </BoolProperty.DataSource>
    </BoolProperty>

    <!-- BUGFIX: With Visual Studio 2017 we need to have at least one property with a configuration condition otherwise our
         property page will not show up -->
    <StringProperty
        Name="Dummy"
        Visible="False">
        <StringProperty.DataSource>
            <DataSource Persistence="ProjectFile" ItemType="SliceCompile" Label="IceBuilder" HasConfigurationCondition="true"/>
        </StringProperty.DataSource>
    </StringProperty>
</Rule>
